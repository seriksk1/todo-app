{"ast":null,"code":"import axios from \"axios\";\nimport { getSortedTasks, getUpdatedStatus } from \"./sorting\";\nimport { ACTION } from \"../constants\";\nconst api = axios.create({\n  baseURL: `http://localhost:3001/api`\n});\nexport const addTaskSuccess = item => ({\n  type: \"ADD_TASK\",\n  payload: item\n});\nexport const removeTaskSuccess = id => ({\n  type: \"REMOVE_TASK\",\n  payload: id\n});\nexport const setTaskStatusSuccess = item => ({\n  type: \"SET_TASK_STATUS\",\n  payload: item\n});\nexport const setSortType = id => ({\n  type: \"SET_SORT_TYPE\",\n  payload: id\n});\nexport const setTasks = items => ({\n  type: \"SET_TASKS\",\n  payload: items\n});\nexport const addTask = item => dispatch => {\n  api.post(\"/task\", item).then(res => {\n    dispatch(addTaskSuccess(res.data.item));\n  }).catch(err => console.log(err));\n};\nexport const removeTask = id => dispatch => {\n  dispatch(removeTaskSuccess(id));\n  api.delete(`/task/${id}`).then(res => {\n    console.log(res);\n  }).catch(err => console.log(err));\n};\nexport const setTaskStatus = item => dispatch => {\n  const updatedStatus = getUpdatedStatus(item);\n  console.log(updatedStatus);\n  api.patch(`/task/${item._id}`, {\n    status: updatedStatus\n  }).then(res => {\n    console.log(res.data.status);\n    dispatch(setTaskStatusSuccess(res.data.item));\n  }).catch(err => console.log(err));\n};\nexport const fetchTasks = sortType => dispatch => {\n  api.get(\"/tasks\").then(({\n    data\n  }) => {\n    const items = data.data;\n    dispatch(setTasks(getSortedTasks(items, sortType)));\n  }).catch(err => {\n    dispatch(setTasks([]));\n  });\n};","map":{"version":3,"sources":["/home/developer/Public/Projects/todo-app/client/src/redux/actions/tasks.js"],"names":["axios","getSortedTasks","getUpdatedStatus","ACTION","api","create","baseURL","addTaskSuccess","item","type","payload","removeTaskSuccess","id","setTaskStatusSuccess","setSortType","setTasks","items","addTask","dispatch","post","then","res","data","catch","err","console","log","removeTask","delete","setTaskStatus","updatedStatus","patch","_id","status","fetchTasks","sortType","get"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { getSortedTasks, getUpdatedStatus } from \"./sorting\";\nimport { ACTION } from \"../constants\";\n\nconst api = axios.create({\n  baseURL: `http://localhost:3001/api`,\n});\n\nexport const addTaskSuccess = (item) => ({\n  type: \"ADD_TASK\",\n  payload: item,\n});\n\nexport const removeTaskSuccess = (id) => ({\n  type: \"REMOVE_TASK\",\n  payload: id,\n});\n\nexport const setTaskStatusSuccess = (item) => ({\n  type: \"SET_TASK_STATUS\",\n  payload: item,\n});\n\nexport const setSortType = (id) => ({\n  type: \"SET_SORT_TYPE\",\n  payload: id,\n});\n\nexport const setTasks = (items) => ({\n  type: \"SET_TASKS\",\n  payload: items,\n});\n\nexport const addTask = (item) => (dispatch) => {\n  api\n    .post(\"/task\", item)\n    .then((res) => {\n      dispatch(addTaskSuccess(res.data.item));\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const removeTask = (id) => (dispatch) => {\n  dispatch(removeTaskSuccess(id));\n  api\n    .delete(`/task/${id}`)\n    .then((res) => {\n      console.log(res);\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const setTaskStatus = (item) => (dispatch) => {\n  const updatedStatus = getUpdatedStatus(item);\n\n  console.log(updatedStatus);\n\n  api\n    .patch(`/task/${item._id}`, { status: updatedStatus })\n    .then((res) => {\n      console.log(res.data.status);\n      dispatch(setTaskStatusSuccess(res.data.item));\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const fetchTasks = (sortType) => (dispatch) => {\n  api\n    .get(\"/tasks\")\n    .then(({ data }) => {\n      const items = data.data;\n      dispatch(setTasks(getSortedTasks(items, sortType)));\n    })\n    .catch((err) => {\n      dispatch(setTasks([]));\n    });\n};\n"]},"metadata":{},"sourceType":"module"}